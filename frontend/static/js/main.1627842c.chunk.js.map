{"version":3,"sources":["source/images/svg-images/mesto_logo.svg","contexts/AuthContext.js","components/Header.jsx","contexts/CurrentUserContext.js","components/Card.jsx","components/Main.jsx","components/Footer.jsx","components/PopupWithForm.jsx","components/ImagePopup.jsx","utils/apiFunctions.js","utils/Api.js","utils/authApi.js","components/Input.jsx","components/EditProfilePopup.jsx","components/EditAvatarPopup.jsx","components/AddPlacePopup.jsx","components/ProtectedRoute.jsx","components/SignButton.jsx","components/Register.jsx","components/Login.jsx","components/InfoToolTip.jsx","source/images/svg-images/success-icon.svg","source/images/svg-images/error-icon.svg","components/App.js","index.js"],"names":["AuthContext","createContext","Header","emailNav","location","authContext","useContext","handleClickSignOut","localStorage","removeItem","handleQuit","className","src","logo","alt","onClick","to","CurrentUserContext","Card","onCardClick","onCardLike","onCardDelete","card","currentUser","isOwn","owner","_id","isLiked","likes","some","like","elementLikeClassName","type","link","name","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","onLocation","path","useRouteMatch","useEffect","avatar","about","map","Footer","PopupWithForm","title","isOpen","onClose","onSubmit","children","isLoading","value","ImagePopup","renderResponse","responsePromise","callback","finallyHandler","then","data","catch","error","console","log","finally","api","options","this","_baseURL","baseURL","_headers","headers","_checkResponse","bind","response","ok","json","Promise","reject","status","url","fetch","method","authorization","fio","aboutYourself","body","JSON","stringify","addLike","deleteLike","checkResponse","Input","maxLength","minLength","placeholder","onChangeHandler","id","styleModifier","required","onChange","evt","EditProfilePopup","onUserUpdate","useState","formState","setFormState","handleChange","target","preventDefault","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","current","defaultValue","ref","AddPlacePopup","onAddCard","mestoName","mestoURL","handleChangeForm","ProtectedRoute","Component","component","props","isLoggedIn","SignButton","Register","onSuccessfullReg","onErrorReg","email","password","authApi","Login","onErrorLoggedIn","onEmail","history","useHistory","token","setItem","handleLogin","push","InfoToolTip","icon","App","cohort","setCurrentUser","pathname","setLocation","handleLocation","editProfileState","setEditProfileState","editAvatarState","setEditAvatarState","addPlaceState","setAddPlaceState","successfulRegState","setSuccessfulRegState","errorRegState","setErrorRegState","selectedCard","setSelectedCard","setIsLoading","setEmailNav","setCards","getPreloadsCards","getUserInfo","getItem","jwt","handleLoggedIn","handleEmailNav","setAuthUser","authUser","handleErrorReg","closeAllPopups","Provider","exact","changeLikeCardStatus","newCard","prevState","stateItem","deleteCard","filter","updateUserInfo","updateAvatar","postCard","newCardData","successIcon","errorIcon","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1627842c.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/mesto_logo.3b886bd4.svg\";","import {createContext} from \"react\";\n\nexport const AuthContext = createContext();","import React, {useContext, useState} from \"react\";\nimport logo from '../source/images/svg-images/mesto_logo.svg';\nimport {Link} from \"react-router-dom\";\nimport {AuthContext} from \"../contexts/AuthContext\";\n\n function Header({emailNav, location}) {\n\n\n    const authContext = useContext(AuthContext);\n\n    const handleClickSignOut = () =>{\n        localStorage.removeItem('jwt');\n        authContext.handleQuit();\n    }\n\n     const getMarkUp = () => {\n         if (location === '/'){\n             return (<p className=\"header__menu\">{`${emailNav}`} {<Link onClick={handleClickSignOut} className=\"header__menu-link\" to=\"/sign-in\">Выйти</Link>}</p>)\n         }else{\n             return  location === '/sign-up' ? (<Link className=\"header__menu-link\" to=\"../sign-in\">Войти</Link>) : (<Link className=\"header__menu-link\" to=\"../sign-up\">Регистрация</Link>)\n         }\n      }\n    return(\n        <header className=\"header page__header\">\n            <img className=\"header__logo\" src={logo} alt=\"Лого\"/>\n            {getMarkUp()}\n        </header>\n    );\n}\n\nexport default Header;","import {createContext} from \"react\";\n\nexport const CurrentUserContext = createContext();","import React, {useContext} from \"react\";\n\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nfunction Card({onCardClick, onCardLike, onCardDelete, card}){\n\n    const currentUser = useContext(CurrentUserContext);\n    const handleCardClick = () => {\n        onCardClick({link:card.link, name: card.name});\n    }\n    const handleLikeClick = () => {\n        onCardLike(card);\n    }\n    const handleDeleteCard = () => {\n        onCardDelete(card);\n    }\n    const isOwn = card.owner._id === currentUser._id;\n    const isLiked = card.likes.some( like => like._id === currentUser._id);\n    const elementLikeClassName = `element__like ${isLiked ? 'element__like_active' : ''}`;\n    return(\n        <article className=\"element\">\n            {isOwn && <button className=\"element__trash\" type=\"button\" onClick={handleDeleteCard}></button>}\n            <img className=\"element__photo\" src={card.link} alt={`Фото ${card.name}`} onClick={handleCardClick}/>\n            <div className=\"element__container\">\n                <h2 className=\"element__title\">{card.name}</h2>\n                <div className=\"element__like-container\">\n                    <button className={elementLikeClassName} type=\"button\" onClick={handleLikeClick}></button>\n                    <p className=\"element__like-counter\">{card.likes.length}</p>\n                </div>\n            </div>\n        </article>\n\n    );\n}\n\nexport default Card;","import React, {useContext, useEffect} from \"react\";\nimport Card from \"./Card\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\nimport {useRouteMatch} from \"react-router-dom\";\n\n\n\nfunction Main({onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, onCardLike, onCardDelete, onLocation}){\n\n    const currentUser = useContext(CurrentUserContext);\n    const {path} = useRouteMatch();\n    useEffect(() => {\n        onLocation(path);\n    }, []);\n\n    return(\n\n            <main className=\"content\">\n                <section className=\"profile page__profile\">\n                    <div className=\"profile__avatar-container\">\n                        <img className=\"profile__avatar\" src={currentUser.avatar}\n                             alt=\"Аватар\"/>\n                        <button className=\"profile__avatar-edit-overlay\" onClick={onEditAvatar}></button>\n                    </div>\n\n                    <div className=\"profile-info profile__profile-info\">\n                        <div className=\"profile-info__container\">\n                            <h1 className=\"profile-info__name\">{currentUser.name}</h1>\n                            <button className=\"profile-info__button-edit\" type=\"button\" onClick={onEditProfile}></button>\n                        </div>\n                        <p className=\"profile-info__role\">{currentUser.about}</p>\n                    </div>\n\n                    <button className=\"profile__button-add\" type=\"button\" onClick={onAddPlace}></button>\n                </section>\n                <section className=\"elements page__elements\">\n                    {cards.map( (card) => {\n\n                        return  (\n\n                                <Card key={card._id}\n                                      onCardClick={onCardClick}\n                                      onCardLike={onCardLike}\n                                      onCardDelete={onCardDelete}\n                                      card={card}\n                                />\n                    )\n                    } )}\n                </section>\n\n            </main>\n\n    );\n}\n\nexport default Main;","import React from \"react\";\n\nfunction Footer(){\n    return(\n        <footer className=\"footer page__footer\">\n            <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\n        </footer>\n    );\n}\n\nexport default Footer;","import React from \"react\";\n\nfunction PopupWithForm({name, title, isOpen, onClose, onSubmit, children, isLoading}){\n    return(\n        <div className={`popup popup_type_${name} ${isOpen && 'popup_opened'}`}>\n            <div className=\"popup__container\">\n                <button className=\"popup__button-close\" onClick={onClose} type=\"button\"></button>\n                <form className=\"popup__form\" name={name} onSubmit={onSubmit}>\n                    <h2 className=\"popup__title\">{title}</h2>\n                    {children}\n                    <input className=\"popup__button-save\" type=\"submit\" value={isLoading ? 'Сохранить...' : 'Сохранить'}/>\n                </form>\n            </div>\n        </div>\n    );\n}\n\nexport default PopupWithForm;","import React from \"react\";\n\nfunction ImagePopup({card, onClose}){\n    return(\n        <div className={`popup popup_opacity popup_type_picture ${card.name && \"popup_opened\"}`}>\n            <div className=\"popup__container-photo\">\n                <button className=\"popup__button-close\" type=\"button\" onClick={onClose}></button>\n                <img className=\"popup__photo\" src={card.link} alt={card.name}/>\n                <p className=\"popup__photo-name\">{card.name}</p>\n            </div>\n        </div>\n    );\n}\n\nexport default ImagePopup;","\n\nexport function renderLoading(isLoading){\n    const openedPopup = document.querySelector('.popup_opened');\n    if(isLoading && openedPopup){\n        openedPopup.querySelector('input[type=submit]').value = `${openedPopup.querySelector('input[type=submit]').value}...`;\n    }else if(!isLoading) {\n        Array.from(document.forms).forEach(form => {\n            form.querySelector('input[type=submit]').value = form.querySelector('input[type=submit]').value.split('...')[0];\n        });\n    }\n}\n\nexport function renderResponse(responsePromise, callback, finallyHandler){\n\n\n\n    responsePromise\n        .then((data) => {\n            callback(data);\n        })\n        .catch((error) => {\n            console.log(`Ошибка ${error}`);\n        })\n        .finally(() => {\n            if(finallyHandler !== '#'){\n                finallyHandler();\n            }\n        })\n}\n\n","export class Api {\n    constructor(options) {\n        this._baseURL = options.baseURL;\n        this._headers = options.headers;\n        this._checkResponse = this._checkResponse.bind(this)\n    }\n\n    _checkResponse(response){\n        if(response.ok){\n            return response.json();\n        }\n        return Promise.reject(`${response.status} and ${response.url}`);\n    }\n\n    getUserInfo() {\n        return fetch(`${this._baseURL}users/me`,\n            {\n                method: 'GET',\n                headers: {\n                    authorization: this._headers.authorization,\n                    'Content-type': 'application/json'\n                }\n            }).then(this._checkResponse);\n    }\n\n    getPreloadsCards(){\n        return fetch(`${this._baseURL}cards/`,\n            {\n                method: 'GET',\n                headers: {\n                    authorization: this._headers.authorization,\n                    'Content-type': 'application/json'\n                }\n            }).then(this._checkResponse)\n    }\n\n\n\n    updateUserInfo({fio, aboutYourself}){\n        return fetch(`${this._baseURL}users/me`, {\n            method: 'PATCH',\n            headers: {\n                authorization: this._headers.authorization,\n                'Content-type': 'application/json'\n            },\n            body:JSON.stringify({\n                name:`${fio}`,\n                about: `${aboutYourself}`\n            })\n        }).then(this._checkResponse);\n    }\n\n    postCard({name, link}){\n        return  fetch(`${this._baseURL}cards`, {\n            method: 'POST',\n            headers:{\n                authorization: this._headers.authorization,\n                'Content-type': 'application/json'\n            },\n            body:JSON.stringify({\n                name:`${name}`,\n                link:`${link}`\n            })\n        }).then(this._checkResponse);\n    }\n    deleteCard(_id){\n        return fetch(`${this._baseURL}cards/${_id}`, {\n            method:'DELETE',\n            headers:{\n                authorization: this._headers.authorization,\n                'Content-type': 'application/json'\n            }\n        }).then(this._checkResponse);\n    }\n\n    addLike(_id){\n        return fetch(`${this._baseURL}cards/likes/${_id}`, {\n            method:'PUT',\n            headers:{\n                authorization: this._headers.authorization,\n                'Content-type': 'application/json'\n            }\n        }).then(this._checkResponse);\n    }\n    deleteLike(_id){\n        return fetch(`${this._baseURL}cards/likes/${_id}`, {\n            method:'DELETE',\n            headers:{\n                authorization: this._headers.authorization,\n                'Content-type': 'application/json'\n            }\n        }).then(this._checkResponse);\n    }\n    updateAvatar({avatar}){\n        return fetch(`${this._baseURL}users/me/avatar`, {\n            method: 'PATCH',\n            headers: {\n                authorization: this._headers.authorization,\n                'Content-type': 'application/json'\n            },\n            body:JSON.stringify({\n                    avatar: `${avatar}`\n                }\n            )\n        }).then(this._checkResponse);\n    }\n\n    changeLikeCardStatus(_id, isLiked) {\n        if (isLiked) {\n            return this.addLike(_id);\n        }\n        return this.deleteLike(_id);\n    }\n}\n\nexport const api = new Api({ baseURL : 'http://api.mesto.photocard.nomoredomains.work/', headers:{\n        authorization: 'ea8d3eb3-1ee8-45d9-8e72-76d5b1d1c389',\n        'Content-Type': 'application/json'\n    }});","const baseURL = 'http://api.mesto.photocard.nomoredomains.work';\n\nconst checkResponse = (response) => {\n    if(response.ok){\n        return response.json();\n    }\n    return  Promise.reject(response.status);\n}\n\nexport const authentication = ({password, email}) => {\n    return fetch(`${baseURL}/signup`, {\n        method: \"POST\",\n        headers:{\n            'Content-type': 'application/json'\n        },\n        body: JSON.stringify({password, email})\n    })\n        .then(checkResponse)\n        .then( data => {\n            return data;\n        })\n}\nexport const login = ({password, email}) => {\n    return fetch(`${baseURL}/signin`, {\n        method: \"POST\",\n        headers:{\n            'Content-type': 'application/json'\n        },\n        body: JSON.stringify({password, email})\n    })\n        .then(checkResponse)\n        .then( data => {\n            if(data.token){\n                localStorage.setItem('jwt', data.token);\n                return data;\n            }else {\n                return;\n            }\n            return data;\n        })\n}\n\nexport const getUserCredentials = (jwt) => {\n    return fetch(`${baseURL}/users/me`, {\n        method: 'GET',\n        headers:{\n        \"Content-Type\": \"application/json\",\n        \"Authorization\" : `Bearer ${jwt}`\n        }\n    }).then(checkResponse).then(({data}) => {\n\n        return data\n    });\n}\n/*\ndodiknevova dodik@gmail.com*/\n","import React from \"react\";\n\nexport const Input = ({maxLength, minLength, placeholder, onChangeHandler, value, name, id, type, styleModifier}) => {\n\n    const handleChange = (evt) => {\n        onChangeHandler(evt)\n    }\n    return(\n        <>\n            <input className={`popup__input ${styleModifier ? styleModifier : ''}`}\n                   value={value}\n                   placeholder={placeholder}\n                   required\n                   name={name}\n                   id={id}\n                   maxLength={maxLength}\n                   minLength={minLength}\n                   onChange={handleChange}\n                   type={type}/>\n            <span className=\"popup__input-error-info profile-name-error\"></span>\n        </>\n    )\n}","import React, {useContext, useEffect, useState} from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\nimport {Input} from \"./Input\";\n\n\n\nexport const EditProfilePopup = ({isOpen, onClose, onUserUpdate, isLoading}) => {\n    const currentUser = useContext(CurrentUserContext);\n\n    const [formState, setFormState] = useState({fio:'', aboutYourself: ''});\n    useEffect(() => {\n        setFormState({fio: currentUser.name, aboutYourself: currentUser.about})\n    }, [currentUser, isOpen]);\n    const handleChange = (evt) => {\n        const {name, value} = evt.target;\n        setFormState({...formState, [name]: value});\n    }\n\n\n    const handleSubmit = (evt) => {\n        evt.preventDefault();\n        onUserUpdate({name: formState['fio'], about: formState['aboutYourself']})\n    }\n    return(\n        <PopupWithForm name={\"profile\"} title={\"Редактировать профиль\"}\n                       isOpen={isOpen}\n                       onClose={onClose}\n                       onSubmit={handleSubmit}\n                       isLoading={isLoading}\n        >\n            <Input maxLength=\"40\"\n                   minLength=\"2\"\n                   onChangeHandler={handleChange}\n                   value={formState['fio']}\n                   placeholder=\"Имя\"\n                   name=\"fio\"\n                   id=\"profile-name\"/>\n            <Input maxLength=\"200\"\n                   minLength=\"2\"\n                   onChangeHandler={handleChange}\n                   value={formState['aboutYourself']}\n                   placeholder=\"О себе\"\n                   name=\"aboutYourself\"\n                   id=\"profile-about\" />\n        </PopupWithForm>\n    )\n}\n","import React, {useEffect, useRef} from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport const EditAvatarPopup = ({isOpen, onClose, onUpdateAvatar, isLoading}) => {\n\n    const inputRef = useRef();\n    useEffect(() => {\n        inputRef.current.value = '';\n    }, [isOpen])\n\n    const handleSubmit = (evt) => {\n        evt.preventDefault();\n        onUpdateAvatar({avatar: inputRef.current.value});\n    }\n\n\n    return(\n        <PopupWithForm name={\"edit-avatar\"} title={\"Обновить аватар\"}\n                       isOpen={isOpen}\n                       onClose={onClose}\n                       onSubmit={handleSubmit}\n                       isLoading={isLoading}\n        >\n            <input className=\"popup__input\"\n                   defaultValue=\"\"\n                   placeholder=\"Ссылка на фото\"\n                   required\n                   name=\"avatar\"\n                   id=\"profile-avatar\"\n                   type=\"url\" ref={inputRef}/>\n\n            <span className=\"popup__input-error-info profile-avatar-error\"></span>\n        </PopupWithForm>\n    );\n}","import React, {useEffect, useState} from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport {Input} from \"./Input\";\n\nexport const AddPlacePopup = ({isOpen, onClose, onAddCard, isLoading}) => {\n\n    const [formState, setFormState] = useState({mestoName:'', mestoURL: ''});\n\n    useEffect(() => {\n        setFormState({mestoName:'', mestoURL: ''});\n\n    }, [isOpen]);\n\n\n    const handleChangeForm = (evt) => {\n        const {name, value} = evt.target;\n        setFormState({...formState, [name]:value})\n    }\n\n    const handleSubmit = (evt) => {\n        evt.preventDefault();\n        onAddCard({name: formState.mestoName, link: formState.mestoURL});\n\n    }\n    return(\n        <PopupWithForm name={\"card-add\"} title={\"Новое место\"}\n                       isOpen={isOpen}\n                       onClose={onClose}\n                       onSubmit={handleSubmit}\n                       isLoading={isLoading}\n        >\n            <Input value={formState.mestoName}\n                   placeholder={\"Название\"}\n                   id={\"mesto-name\"}\n                   name={\"mestoName\"}\n                   onChangeHandler={handleChangeForm} />\n            <Input value={formState.mestoURL}\n                   placeholder={\"Ссылка на картинку\"}\n                   id={\"mesto-url\"}\n                   name={\"mestoURL\"}\n                   onChangeHandler={handleChangeForm}\n                   type={\"url\"}/>\n        </PopupWithForm>\n    );\n}\n","import React, {useContext} from \"react\";\nimport {Route, Redirect} from 'react-router-dom'\nimport {AuthContext} from \"../contexts/AuthContext\";\nexport const ProtectedRoute = ({component: Component, ...props}) => {\n    const authContext = useContext(AuthContext);\n\n\n\n    return(\n        <Route >\n            {() =>  authContext.isLoggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />}</Route>\n    );\n\n}","import React from \"react\";\n\nexport const SignButton = ({ value }) => {\n    return(\n        <input className=\"sign-button\" type=\"submit\" value={value} />\n    );\n}","import React, {useEffect, useState} from \"react\";\nimport {Input} from \"./Input\";\nimport {SignButton} from \"./SignButton\";\nimport {Link, useRouteMatch} from 'react-router-dom'\nimport * as authApi from '../utils/authApi';\nexport const Register = ({onSuccessfullReg, onErrorReg, onLocation}) => {\n    const [formState, setFormState] = useState({email: '', password: ''});\n    const {path} = useRouteMatch();\n    useEffect(() => {\n        onLocation(path)\n    }, []);\n    const handleChange = (evt) => {\n        const {name, value} = evt.target;\n        setFormState({...formState, [name]: value});\n    }\n\n    const handleSubmit = (evt) => {\n        evt.preventDefault();\n        authApi.authentication(formState).then(data => {\n\n            onSuccessfullReg();\n        }).catch(() => {\n            onErrorReg();\n        })\n    }\n\n    return(\n        <main className=\"content\">\n            <section className=\"register page__register\">\n                <h2 className=\"register__title\">Регистрация</h2>\n                <form className=\"register__form\" onSubmit={handleSubmit}>\n                    <Input value={formState['email']}\n                           name=\"email\"\n                           id=\"register-email\"\n                           maxLength=\"100\"\n                           minLength=\"6\"\n                           onChangeHandler={handleChange}\n                           type=\"text\"\n                           styleModifier=\"register__input\"\n                           placeholder=\"Email\"\n                    />\n                    <Input value={formState['password']}\n                           id=\"register-password\"\n                           name=\"password\"\n                           maxLength=\"24\"\n                           minLength=\"6\"\n                           onChangeHandler={handleChange}\n                           type=\"password\"\n                           styleModifier=\"register__input\"\n                           placeholder=\"Пароль\"\n                    />\n                    <SignButton value=\"Зарегестрироваться\" />\n                </form>\n                    <p className=\"register__sign-in-caption\">Уже зарегистрированы? {<Link to=\"../sign-in\" className=\"register__sign-in-link\">Войти</Link>}</p>\n            </section>\n        </main>\n    );\n}","import React, {useContext, useState, useEffect} from \"react\";\nimport {Input} from \"./Input\";\nimport {SignButton} from \"./SignButton\";\nimport * as authApi from '../utils/authApi';\nimport {useHistory, useRouteMatch} from \"react-router-dom\";\nimport {AuthContext} from \"../contexts/AuthContext\";\nexport const Login = ({ onErrorLoggedIn, onEmail, onLocation }) => {\n\n    const authContext = useContext(AuthContext);\n    const history = useHistory();\n    const [formState, setFormState] = useState({email: '', password: ''});\n    const {path} = useRouteMatch();\n    useEffect(() => {\n        onLocation(path)\n    }, []);\n\n\n    const handleChange = (evt) => {\n        const {value, name} = evt.target;\n        setFormState({...formState, [name]: value});\n    }\n    const handleSubmit = (evt) => {\n        evt.preventDefault();\n        authApi.login(formState).then(data => {\n            if(data.token){\n                authContext.handleLogin();\n                history.push('/');\n\n                onEmail(formState.email);\n\n            }\n        }).catch(() => {\n            onErrorLoggedIn();\n        })\n    }\n    return(\n        <main className=\"content\">\n            <section className=\"login page__login\">\n                <h2 className=\"login__title\">Вход</h2>\n                <form className=\"login__form\" onSubmit={handleSubmit}>\n                    <Input value={formState['email']}\n                           id=\"login-email\"\n                           name=\"email\"\n                           maxLength=\"24\"\n                           minLength=\"6\"\n                           onChangeHandler={handleChange}\n                           type=\"text\"\n                           styleModifier=\"login__input\"\n                           placeholder=\"Email\"\n                    />\n                    <Input value={formState['password']}\n                           id=\"login-password\"\n                           name=\"password\"\n                           maxLength=\"24\"\n                           minLength=\"6\"\n                           onChangeHandler={handleChange}\n                           type=\"password\"\n                           styleModifier=\"login__input\"\n                           placeholder=\"Пароль\"\n                    />\n                    <SignButton value=\"Войти\" />\n                </form>\n            </section>\n        </main>\n    );\n}","import React from \"react\";\n\n\nexport const InfoToolTip = ({name, isOpen, onClose, icon, title, alt}) => {\n\n    return(\n        <div className={`popup popup_type_${name} ${isOpen && 'popup_opened'}`}>\n            <div className=\"popup__container\">\n                <button className=\"popup__button-close\" onClick={onClose} type=\"button\"></button>\n                <img className=\"popup__reg-icon\" src={icon} alt={alt}/>\n                <h2 className=\"popup__title popup__title_color_black popup__title_type_notification\">{title}</h2>\n            </div>\n        </div>\n    );\n}","export default __webpack_public_path__ + \"static/media/success-icon.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/error-icon.df8eddf6.svg\";","import Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from \"./ImagePopup\";\nimport {useEffect, useState} from \"react\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\nimport {renderResponse} from \"../utils/apiFunctions\";\nimport {api} from \"../utils/Api\";\nimport * as authApi from '../utils/authApi';\nimport {EditProfilePopup} from \"./EditProfilePopup\";\nimport {EditAvatarPopup} from \"./EditAvatarPopup\";\nimport {AddPlacePopup} from \"./AddPlacePopup\";\nimport {Route, Switch, useHistory} from 'react-router-dom'\nimport {ProtectedRoute} from \"./ProtectedRoute\";\nimport {Register} from \"./Register\";\nimport {Login} from \"./Login\";\nimport {InfoToolTip} from \"./InfoToolTip\";\nimport successIcon from '../source/images/svg-images/success-icon.svg';\nimport errorIcon from '../source/images/svg-images/error-icon.svg';\nimport {AuthContext} from \"../contexts/AuthContext\";\n\nfunction App() {\n\n    const [currentUser, setCurrentUser] = useState({about: '', avatar: '', cohort:'', name:'', _id: '', email: ''});\n\n    // хук для навигации с помощью brouser router\n    const history = useHistory();\n\n    const [location, setLocation] = useState(history.location.pathname);\n    const handleLocation = (value) => {\n        setLocation(value);\n    }\n    const [editProfileState, setEditProfileState] = useState(false);\n    const [editAvatarState, setEditAvatarState] = useState(false);\n    const [addPlaceState, setAddPlaceState] = useState(false);\n    const [successfulRegState, setSuccessfulRegState] = useState(false);\n    const [errorRegState, setErrorRegState] = useState(false);\n    const [selectedCard, setSelectedCard] = useState({});\n    const [isLoading, setIsLoading] = useState(false);\n    const [emailNav, setEmailNav] = useState('');\n     function   finallyHandler(){\n        setIsLoading(false);\n    }\n    // стейт карточек\n    const [cards, setCards] = useState([]);\n    useEffect(() => {\n        renderResponse(api.getPreloadsCards(), (data)=>{\n            setCards(data);\n        }, \"#\")\n        renderResponse(api.getUserInfo(), (data) => {\n            setCurrentUser({...currentUser, about: data.about, avatar: data.avatar, cohort: data.cohort, name: data.name, _id: data._id});\n        }, \"#\")\n        if(localStorage.getItem('jwt')){\n            const jwt = localStorage.getItem('jwt');\n            authApi.getUserCredentials(jwt).then( ({email, _id}) => {\n                handleLoggedIn();\n                handleEmailNav(email);\n\n                history.push('/');\n            });\n\n        }\n    }, []);\n\n    // функции обратного вызова для управления поведением карточки\n    const handleCardLike = (card) => {\n        const isLiked = card.likes.some(like => like._id === currentUser._id);\n\n        renderResponse(api.changeLikeCardStatus(card._id, !isLiked), newCard => {\n            setCards((prevState) => {\n                return prevState.map( stateItem => {\n                    return stateItem._id === card._id ? newCard : stateItem;\n                });\n            });\n        }, finallyHandler);\n    }\n\n    const handleCardDelete = (card) => {\n\n        renderResponse(api.deleteCard(card._id), () => {\n            setCards(prevState => {\n                return prevState.filter( stateItem => stateItem._id !== card._id)\n            });\n        }, finallyHandler);\n\n    }\n\n    const handleAddMestoCard = ({name, link}) => {\n        setIsLoading(true);\n        renderResponse(api.postCard({name: name, link: link}), newCardData => {\n            setCards([newCardData, ...cards]);\n            closeAllPopups();\n        }, finallyHandler);\n    }\n\n    // функции обратного вызова для управления данными пользователя\n\n    const handleUpdateUser = ({name, about}) => {\n        setIsLoading(true);\n        renderResponse(api.updateUserInfo({fio: name, aboutYourself: about}),data => {\n            setCurrentUser({...currentUser, name: data.name, about: data.about})\n            closeAllPopups();\n        }, finallyHandler);\n\n    }\n\n    const handleUpdateAvatar = ({avatar}) => {\n        setIsLoading(true);\n        renderResponse(api.updateAvatar({avatar}), data => {\n            setCurrentUser({...currentUser, avatar: data.avatar});\n            closeAllPopups();\n        }, finallyHandler);\n    }\n\n    //обработчики для стейта авторизации\n    const handleLoggedIn = () => {\n        setAuthUser({...authUser, isLoggedIn: true});\n    }\n    const handleLoggOut = () => {\n        setAuthUser({...authUser, isLoggedIn: false});\n    }\n    const handleEmailNav = value => {\n        setEmailNav(value)\n    }\n\n    const [authUser, setAuthUser] = useState({isLoggedIn: false, handleLogin: handleLoggedIn, handleQuit: handleLoggOut, handleEmailNav: handleEmailNav});\n\n    // функции обратного вызова для открытия/закрытия попапов\n    const handleEditAvatarClick = () => {\n        setEditAvatarState(true);\n    }\n    const handleEditProfileClick = () => {\n        setEditProfileState(true);\n    }\n    const handleAddPlaceClick = () => {\n        setAddPlaceState(true);\n    }\n    const handleSuccessfullReg = () => {\n        setSuccessfulRegState(true);\n    }\n    const handleErrorReg = () => {\n        setErrorRegState(true);\n    }\n    const closeAllPopups = () => {\n        setEditProfileState(false);\n        setAddPlaceState(false);\n        setEditAvatarState(false);\n        setSuccessfulRegState(false);\n        setErrorRegState(false);\n        setSelectedCard({});\n    }\n\n    const handleCardClick = (card) => {\n        setSelectedCard(card);\n    }\n\n\n  return (\n      <AuthContext.Provider value={authUser}>\n          <CurrentUserContext.Provider value={currentUser}>\n\n              <Header emailNav={emailNav} location={location}/>\n              <Switch>\n\n                  <ProtectedRoute component={Main}\n                                      path=\"/\"\n                                      emailNav={emailNav}\n                                      onLocation={handleLocation}\n                                      exact={true}\n                                      onEditProfile={handleEditProfileClick}\n                                      onAddPlace={handleAddPlaceClick}\n                                      onEditAvatar={handleEditAvatarClick}\n                                      onCardClick={handleCardClick}\n                                      onCardLike={handleCardLike}\n                                      onCardDelete={handleCardDelete}\n                                      cards={cards} />\n                  <Route path=\"/sign-up\">\n\n                      <Register onSuccessfullReg={handleSuccessfullReg}\n                                onErrorReg={handleErrorReg}\n                                onLocation={handleLocation}/>\n                  </Route>\n                  <Route path=\"/sign-in\">\n\n                      <Login onErrorLoggedIn={handleErrorReg}\n                             onEmail={handleEmailNav}\n                             onLocation={handleLocation}/>\n                  </Route>\n              </Switch>\n            <Footer />\n              <EditProfilePopup isOpen={editProfileState}\n                                onClose={closeAllPopups}\n                                onUserUpdate={handleUpdateUser}\n                                isLoading={isLoading}/>\n\n              <EditAvatarPopup isOpen={editAvatarState}\n                               onClose={closeAllPopups}\n                               onUpdateAvatar={handleUpdateAvatar}\n                               isLoading={isLoading}/>\n\n              <AddPlacePopup isOpen={addPlaceState}\n                             onClose={closeAllPopups}\n                             onAddCard={handleAddMestoCard}\n                             isLoading={isLoading}/>\n\n              <PopupWithForm name={\"confirm\"} title={\"Вы уверены?\"}/>\n\n              <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\n\n              <InfoToolTip name=\"success-register\"\n                                      isOpen={successfulRegState}\n                                      onClose={closeAllPopups}\n                                      icon={successIcon}\n                                      title=\"Вы успешно зарегестрировались!\"\n                                      alt=\"Иконка успешной регистрации\"/>\n\n              <InfoToolTip name=\"error-register\"\n                                      isOpen={errorRegState}\n                                      onClose={closeAllPopups}\n                                      icon={errorIcon} title=\"Что-то пошло не так! Попробуйте ещё раз.\"\n                                      alt=\"Иконка неуспешной регистрации\" />\n\n          </CurrentUserContext.Provider>\n      </AuthContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport {BrowserRouter} from 'react-router-dom'\n\nReactDOM.render(\n  <React.StrictMode>\n      <BrowserRouter>\n          <App />\n      </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}